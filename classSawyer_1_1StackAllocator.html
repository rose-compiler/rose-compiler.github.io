<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ROSE: Sawyer::StackAllocator&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="ROSE"/>
<link href="roseDoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ROSE<span id="projectnumber">&#160;0.11.145.141</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceSawyer.html">Sawyer</a></li><li class="navelem"><a class="el" href="classSawyer_1_1StackAllocator.html">StackAllocator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classSawyer_1_1StackAllocator-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Sawyer::StackAllocator&lt; T &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename T&gt;<br />
class Sawyer::StackAllocator&lt; T &gt;</div><p>Stack-like allocator. </p>
<p>This allocator allocates single elements of POD type from a stack-like pool. The allocator is intentionally not thread safe and is intended to be used in multi-threaded applications where each thread is allocating and freeing elements in a stack-like order from its own allocator. </p>

<p class="definition">Definition at line <a class="el" href="StackAllocator_8h_source.html#l00021">21</a> of file <a class="el" href="StackAllocator_8h_source.html">StackAllocator.h</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="StackAllocator_8h_source.html">Sawyer/StackAllocator.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Sawyer::StackAllocator&lt; T &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classSawyer_1_1StackAllocator__inherit__graph.png" border="0" usemap="#aSawyer_1_1StackAllocator_3_01T_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="aSawyer_1_1StackAllocator_3_01T_01_4_inherit__map" id="aSawyer_1_1StackAllocator_3_01T_01_4_inherit__map">
<area shape="rect" title="Stack&#45;like allocator." alt="" coords="5,5,196,31"/>
<area shape="rect" href="classSawyer_1_1StackAllocator.html" title=" " alt="" coords="21,93,180,133"/>
<area shape="poly" title=" " alt="" coords="103,45,103,93,98,93,98,45"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a408bb322d2e59a2204b455eb9d8c257b" id="r_a408bb322d2e59a2204b455eb9d8c257b"><td class="memItemLeft" align="right" valign="top">typedef T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1StackAllocator.html#a408bb322d2e59a2204b455eb9d8c257b">Value</a></td></tr>
<tr class="memdesc:a408bb322d2e59a2204b455eb9d8c257b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="namespaceSawyer_1_1Type.html" title="Data types.">Type</a> of values being allocated.  <br /></td></tr>
<tr class="separator:a408bb322d2e59a2204b455eb9d8c257b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aded15de552cc01736ef5bf8f3e30422a" id="r_aded15de552cc01736ef5bf8f3e30422a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1StackAllocator.html#aded15de552cc01736ef5bf8f3e30422a">StackAllocator</a> (size_t elmtsPerBlock)</td></tr>
<tr class="separator:aded15de552cc01736ef5bf8f3e30422a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f419aa23eb90b01f8b9c34fd89b619e" id="r_a9f419aa23eb90b01f8b9c34fd89b619e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1StackAllocator.html#a9f419aa23eb90b01f8b9c34fd89b619e">prune</a> ()</td></tr>
<tr class="memdesc:a9f419aa23eb90b01f8b9c34fd89b619e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free unused large blocks.  <br /></td></tr>
<tr class="separator:a9f419aa23eb90b01f8b9c34fd89b619e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff68af7b8d488bc5905f28e1514d79d8" id="r_aff68af7b8d488bc5905f28e1514d79d8"><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1StackAllocator.html#aff68af7b8d488bc5905f28e1514d79d8">reserve</a> (size_t nElmts)</td></tr>
<tr class="memdesc:aff68af7b8d488bc5905f28e1514d79d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve space for objects.  <br /></td></tr>
<tr class="separator:aff68af7b8d488bc5905f28e1514d79d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a156c519b6abd851bf54a68870dcdf8f4" id="r_a156c519b6abd851bf54a68870dcdf8f4"><td class="memItemLeft" align="right" valign="top">T *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1StackAllocator.html#a156c519b6abd851bf54a68870dcdf8f4">allocNext</a> ()</td></tr>
<tr class="memdesc:a156c519b6abd851bf54a68870dcdf8f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate one element.  <br /></td></tr>
<tr class="separator:a156c519b6abd851bf54a68870dcdf8f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc2b172620824a406fc44fb1a357625" id="r_a6cc2b172620824a406fc44fb1a357625"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1StackAllocator.html#a6cc2b172620824a406fc44fb1a357625">revert</a> (T *ptr)</td></tr>
<tr class="memdesc:a6cc2b172620824a406fc44fb1a357625"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free all elements back to the specified element.  <br /></td></tr>
<tr class="separator:a6cc2b172620824a406fc44fb1a357625"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a408bb322d2e59a2204b455eb9d8c257b" name="a408bb322d2e59a2204b455eb9d8c257b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a408bb322d2e59a2204b455eb9d8c257b">&#9670;&#160;</a></span>Value</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">typedef T <a class="el" href="classSawyer_1_1StackAllocator.html">Sawyer::StackAllocator</a>&lt; T &gt;::Value</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="namespaceSawyer_1_1Type.html" title="Data types.">Type</a> of values being allocated. </p>

<p class="definition">Definition at line <a class="el" href="StackAllocator_8h_source.html#l00023">23</a> of file <a class="el" href="StackAllocator_8h_source.html">StackAllocator.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aded15de552cc01736ef5bf8f3e30422a" name="aded15de552cc01736ef5bf8f3e30422a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded15de552cc01736ef5bf8f3e30422a">&#9670;&#160;</a></span>StackAllocator()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSawyer_1_1StackAllocator.html">Sawyer::StackAllocator</a>&lt; T &gt;::StackAllocator </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>elmtsPerBlock</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StackAllocator_8h_source.html#l00032">32</a> of file <a class="el" href="StackAllocator_8h_source.html">StackAllocator.h</a>.</p>

</div>
</div>
<a id="a007c3587d38313e1fa5df0c50871b8d0" name="a007c3587d38313e1fa5df0c50871b8d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a007c3587d38313e1fa5df0c50871b8d0">&#9670;&#160;</a></span>~StackAllocator()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSawyer_1_1StackAllocator.html">Sawyer::StackAllocator</a>&lt; T &gt;::~<a class="el" href="classSawyer_1_1StackAllocator.html">StackAllocator</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="StackAllocator_8h_source.html#l00035">35</a> of file <a class="el" href="StackAllocator_8h_source.html">StackAllocator.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9f419aa23eb90b01f8b9c34fd89b619e" name="a9f419aa23eb90b01f8b9c34fd89b619e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f419aa23eb90b01f8b9c34fd89b619e">&#9670;&#160;</a></span>prune()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSawyer_1_1StackAllocator.html">Sawyer::StackAllocator</a>&lt; T &gt;::prune </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free unused large blocks. </p>

<p class="definition">Definition at line <a class="el" href="StackAllocator_8h_source.html#l00044">44</a> of file <a class="el" href="StackAllocator_8h_source.html">StackAllocator.h</a>.</p>

</div>
</div>
<a id="aff68af7b8d488bc5905f28e1514d79d8" name="aff68af7b8d488bc5905f28e1514d79d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff68af7b8d488bc5905f28e1514d79d8">&#9670;&#160;</a></span>reserve()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T * <a class="el" href="classSawyer_1_1StackAllocator.html">Sawyer::StackAllocator</a>&lt; T &gt;::reserve </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nElmts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reserve space for objects. </p>
<p>Reserves space for <code>nElmts</code> elements of type <code>T</code> and returns a pointer to the first one. Although this reserves space for objects, the memory is not yet usable to store an object. The next allocation request will give back the same address as returned here, unless the allocated is reverted to an earlier address in the mean time. </p>

<p class="definition">Definition at line <a class="el" href="StackAllocator_8h_source.html#l00054">54</a> of file <a class="el" href="StackAllocator_8h_source.html">StackAllocator.h</a>.</p>

</div>
</div>
<a id="a156c519b6abd851bf54a68870dcdf8f4" name="a156c519b6abd851bf54a68870dcdf8f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a156c519b6abd851bf54a68870dcdf8f4">&#9670;&#160;</a></span>allocNext()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T * <a class="el" href="classSawyer_1_1StackAllocator.html">Sawyer::StackAllocator</a>&lt; T &gt;::allocNext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate one element. </p>
<p>If this allocation is below the amount previously reserved then it is guaranteed to be adjacent to the previous allocation. </p>

<p class="definition">Definition at line <a class="el" href="StackAllocator_8h_source.html#l00064">64</a> of file <a class="el" href="StackAllocator_8h_source.html">StackAllocator.h</a>.</p>

</div>
</div>
<a id="a6cc2b172620824a406fc44fb1a357625" name="a6cc2b172620824a406fc44fb1a357625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc2b172620824a406fc44fb1a357625">&#9670;&#160;</a></span>revert()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSawyer_1_1StackAllocator.html">Sawyer::StackAllocator</a>&lt; T &gt;::revert </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Free all elements back to the specified element. </p>
<p>Reverts the state of this allocator so that the specified <code>ptr</code> would be the return value from <a class="el" href="classSawyer_1_1StackAllocator.html#a156c519b6abd851bf54a68870dcdf8f4">allocNext</a>. If this results in whole large blocks becoming unused they are not returned to the system (call <a class="el" href="classSawyer_1_1StackAllocator.html#a9f419aa23eb90b01f8b9c34fd89b619e">prune</a> if that's desired). </p>

<p class="definition">Definition at line <a class="el" href="StackAllocator_8h_source.html#l00073">73</a> of file <a class="el" href="StackAllocator_8h_source.html">StackAllocator.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="StackAllocator_8h_source.html">StackAllocator.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 2 2024 00:09:36 for ROSE by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
