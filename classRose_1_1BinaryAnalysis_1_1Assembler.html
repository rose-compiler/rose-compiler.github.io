<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ROSE: Rose::BinaryAnalysis::Assembler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="ROSE"/>
<link href="roseDoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ROSE<span id="projectnumber">&#160;0.11.145.141</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceRose.html">Rose</a></li><li class="navelem"><a class="el" href="namespaceRose_1_1BinaryAnalysis.html">BinaryAnalysis</a></li><li class="navelem"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html">Assembler</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classRose_1_1BinaryAnalysis_1_1Assembler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Rose::BinaryAnalysis::Assembler Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Virtual base class for instruction assemblers. </p>
<p>The <a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html" title="Virtual base class for instruction assemblers.">Assembler</a> class is a virtual class providing all non-architecture-specific functionality for the assembly of instructions; architecture-specific components are in subclasses such as AssemblerAarch64, AssemblerPowerpc, and <a class="el" href="classRose_1_1BinaryAnalysis_1_1AssemblerX86.html" title="This class contains methods for assembling x86 instructions (SgAsmX86Instruction).">AssemblerX86</a>.</p>
<p>This example shows how to test the disassembler against the assembler by disassembling and then reassembling all instructions. Generate debugging output for instructions that cannot be reassembled into an encoding identical to the original bytes:</p>
<div class="fragment"><div class="line"><span class="comment">// Disassemble the interpretation (normally happens automatically)</span></div>
<div class="line"><a class="code hl_class" href="classSgAsmInterpretation.html">SgAsmInterpretation</a> *interp = ....;</div>
<div class="line"><a class="code hl_class" href="classSawyer_1_1SharedPointer.html">Disassembler::BasePtr</a> d = Disassembler::lookup(interp);</div>
<div class="line">d-&gt;disassemble(interp);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create an assembler that can handle instructions in this interpretation.</span></div>
<div class="line"><a class="code hl_class" href="classRose_1_1BinaryAnalysis_1_1Assembler.html">Assembler</a> *<span class="keyword">asm</span> = <a class="code hl_function" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a68974c27617870fdf90fb4455f2928b4">Assembler::create</a>(interp);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Cause the assembler to choose encodings that are identical to the</span></div>
<div class="line"><span class="comment">// bytes originally disassebled.  The assembler still goes through all the</span></div>
<div class="line"><span class="comment">// work of assembling, but then checks the result against the original</span></div>
<div class="line"><span class="comment">// bytes.</span></div>
<div class="line"><span class="keyword">asm</span>-&gt;set_encoding_type(<a class="code hl_enumvalue" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9adb03164bf5bab974ee254319e94dba9c">Assembler::ET_MATCHES</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Attempt to reassemble each instruction. If the assembly fails to produce</span></div>
<div class="line"><span class="comment">// the original bytes then an exception is thrown and we try again for</span></div>
<div class="line"><span class="comment">// debugging side effects.</span></div>
<div class="line">std::vector&lt;SgNode*&gt; insns = NodeQuery::querySubTree(interp, V_SgAsmInstruction);</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=0; i&lt;insns.size(); i++) {</div>
<div class="line">    <a class="code hl_class" href="classSgAsmInstruction.html">SgAsmInstruction</a> *insn = isSgAsmInstruction(insns[i]);</div>
<div class="line">    <span class="keywordflow">try</span> {</div>
<div class="line">        <span class="keyword">asm</span>-&gt;assembleOne(insn);</div>
<div class="line">    } <span class="keywordflow">catch</span>(<span class="keyword">const</span> <a class="code hl_class" href="classRose_1_1BinaryAnalysis_1_1Assembler_1_1Exception.html">Assembler::Exception</a> &amp;e) {</div>
<div class="line">        fprintf(stderr, <span class="stringliteral">&quot;assembly failed at 0x%08llx: %s\n&quot;</span>,</div>
<div class="line">                insn-&gt;<a class="code hl_function" href="classSgAsmStatement.html#ac0959f1b0d967f7aff9032c2a4e2ab92">get_address</a>(), e.mesg.c_str());</div>
<div class="line">        <span class="keyword">asm</span>-&gt;set_debug(stderr);</div>
<div class="line">        <span class="keywordflow">try</span> {</div>
<div class="line">            <span class="keyword">asm</span>-&gt;assembleOne(insn);</div>
<div class="line">        } <span class="keywordflow">catch</span>(<span class="keyword">const</span> Assembler::Exception&amp;) {</div>
<div class="line">        }</div>
<div class="line">        <span class="keyword">asm</span>-&gt;set_debug(NULL);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclassRose_1_1BinaryAnalysis_1_1Assembler_1_1Exception_html"><div class="ttname"><a href="classRose_1_1BinaryAnalysis_1_1Assembler_1_1Exception.html">Rose::BinaryAnalysis::Assembler::Exception</a></div><div class="ttdoc">Exception thrown by the assemblers.</div><div class="ttdef"><b>Definition</b> <a href="Assembler_8h_source.html#l00061">Assembler.h:61</a></div></div>
<div class="ttc" id="aclassRose_1_1BinaryAnalysis_1_1Assembler_html"><div class="ttname"><a href="classRose_1_1BinaryAnalysis_1_1Assembler.html">Rose::BinaryAnalysis::Assembler</a></div><div class="ttdoc">Virtual base class for instruction assemblers.</div><div class="ttdef"><b>Definition</b> <a href="Assembler_8h_source.html#l00058">Assembler.h:58</a></div></div>
<div class="ttc" id="aclassRose_1_1BinaryAnalysis_1_1Assembler_html_a64d85570ab8c92e27bb6e6dc9057eeb9adb03164bf5bab974ee254319e94dba9c"><div class="ttname"><a href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9adb03164bf5bab974ee254319e94dba9c">Rose::BinaryAnalysis::Assembler::ET_MATCHES</a></div><div class="ttdeci">@ ET_MATCHES</div><div class="ttdoc">Returns an encoding that matches the SgAsmInstruction::p_raw_bytes.</div><div class="ttdef"><b>Definition</b> <a href="Assembler_8h_source.html#l00087">Assembler.h:84</a></div></div>
<div class="ttc" id="aclassRose_1_1BinaryAnalysis_1_1Assembler_html_a68974c27617870fdf90fb4455f2928b4"><div class="ttname"><a href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a68974c27617870fdf90fb4455f2928b4">Rose::BinaryAnalysis::Assembler::create</a></div><div class="ttdeci">static Assembler * create(SgAsmInterpretation *interp)</div><div class="ttdoc">Creates an assembler that is appropriate for assembling instructions in the specified interpretation.</div></div>
<div class="ttc" id="aclassSawyer_1_1SharedPointer_html"><div class="ttname"><a href="classSawyer_1_1SharedPointer.html">Sawyer::SharedPointer&lt; Base &gt;</a></div></div>
<div class="ttc" id="aclassSgAsmInstruction_html"><div class="ttname"><a href="classSgAsmInstruction.html">SgAsmInstruction</a></div><div class="ttdoc">Base class for machine instructions.</div><div class="ttdef"><b>Definition</b> <a href="binaryInstruction_8C_source.html#l43208">binaryInstruction.C:43208</a></div></div>
<div class="ttc" id="aclassSgAsmInterpretation_html"><div class="ttname"><a href="classSgAsmInterpretation.html">SgAsmInterpretation</a></div><div class="ttdoc">Represents an interpretation of a binary container.</div><div class="ttdef"><b>Definition</b> <a href="binaryInstruction_8C_source.html#l14125">binaryInstruction.C:14125</a></div></div>
<div class="ttc" id="aclassSgAsmStatement_html_ac0959f1b0d967f7aff9032c2a4e2ab92"><div class="ttname"><a href="classSgAsmStatement.html#ac0959f1b0d967f7aff9032c2a4e2ab92">SgAsmStatement::get_address</a></div><div class="ttdeci">rose_addr_t const &amp; get_address() const</div><div class="ttdoc">Property: Starting virtual address.</div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00058">58</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="Assembler_8h_source.html">frontend/Disassemblers/Assembler.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Rose::BinaryAnalysis::Assembler:</div>
<div class="dyncontent">
<div class="center"><img src="classRose_1_1BinaryAnalysis_1_1Assembler__inherit__graph.png" border="0" usemap="#aRose_1_1BinaryAnalysis_1_1Assembler_inherit__map" alt="Inheritance graph"/></div>
<map name="aRose_1_1BinaryAnalysis_1_1Assembler_inherit__map" id="aRose_1_1BinaryAnalysis_1_1Assembler_inherit__map">
<area shape="rect" title="Virtual base class for instruction assemblers." alt="" coords="5,5,153,45"/>
<area shape="rect" href="classRose_1_1BinaryAnalysis_1_1AssemblerX86.html" title="This class contains methods for assembling x86 instructions (SgAsmX86Instruction)." alt="" coords="5,93,153,133"/>
<area shape="poly" title=" " alt="" coords="82,59,82,93,77,93,77,59"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler_1_1Exception.html">Exception</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exception thrown by the assemblers.  <a href="classRose_1_1BinaryAnalysis_1_1Assembler_1_1Exception.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a64d85570ab8c92e27bb6e6dc9057eeb9" id="r_a64d85570ab8c92e27bb6e6dc9057eeb9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9">EncodingType</a> { <br />
&#160;&#160;<a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9a8064607db6b2413b30bcc614e023dd78">ET_SHORTEST</a>
, <br />
&#160;&#160;<a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9ad8e21e2c7a59e412db1e324de4a6b667">ET_LONGEST</a>
, <br />
&#160;&#160;<a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9adb03164bf5bab974ee254319e94dba9c">ET_MATCHES</a>
<br />
 }</td></tr>
<tr class="memdesc:a64d85570ab8c92e27bb6e6dc9057eeb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assemblers can often assemble a single instruction various ways.  <a href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9">More...</a><br /></td></tr>
<tr class="separator:a64d85570ab8c92e27bb6e6dc9057eeb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab49117d475fe9d8b834806539af31e00" id="r_ab49117d475fe9d8b834806539af31e00"><td class="memItemLeft" align="right" valign="top">virtual SgUnsignedCharList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#ab49117d475fe9d8b834806539af31e00">assembleOne</a> (<a class="el" href="classSgAsmInstruction.html">SgAsmInstruction</a> *insn)=0</td></tr>
<tr class="memdesc:ab49117d475fe9d8b834806539af31e00"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the lowest level architecture-independent assembly function and is implemented in the architecture-specific subclasses (there may be other architecture-dependent assembly methods also).  <br /></td></tr>
<tr class="separator:ab49117d475fe9d8b834806539af31e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d5a8afa2676753c71f6957fbe86eccf" id="r_a8d5a8afa2676753c71f6957fbe86eccf"><td class="memItemLeft" align="right" valign="top">SgUnsignedCharList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a8d5a8afa2676753c71f6957fbe86eccf">assembleBlock</a> (<a class="el" href="classSgAsmBlock.html">SgAsmBlock</a> *)</td></tr>
<tr class="memdesc:a8d5a8afa2676753c71f6957fbe86eccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembles a single basic block of instructions, packing them together and adjusting their virtual addresses.  <br /></td></tr>
<tr class="separator:a8d5a8afa2676753c71f6957fbe86eccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25e6c8e5ec3a2bba922c44bd68531bf4" id="r_a25e6c8e5ec3a2bba922c44bd68531bf4"><td class="memItemLeft" align="right" valign="top">SgUnsignedCharList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a25e6c8e5ec3a2bba922c44bd68531bf4">assembleBlock</a> (const std::vector&lt; <a class="el" href="classSgAsmInstruction.html">SgAsmInstruction</a> * &gt; &amp;insns, rose_addr_t starting_rva)</td></tr>
<tr class="memdesc:a25e6c8e5ec3a2bba922c44bd68531bf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembles a single basic block of instructions like the version that takes an <a class="el" href="classSgAsmBlock.html" title="Instruction basic block.">SgAsmBlock</a> pointer.  <br /></td></tr>
<tr class="separator:a25e6c8e5ec3a2bba922c44bd68531bf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2bcddf501c2b4655ba077fc58475f0e" id="r_ad2bcddf501c2b4655ba077fc58475f0e"><td class="memItemLeft" align="right" valign="top">virtual SgUnsignedCharList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#ad2bcddf501c2b4655ba077fc58475f0e">assembleProgram</a> (const std::string &amp;source)=0</td></tr>
<tr class="memdesc:ad2bcddf501c2b4655ba077fc58475f0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assembles a program from an assembly listing.  <br /></td></tr>
<tr class="separator:ad2bcddf501c2b4655ba077fc58475f0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a805d351924f56d06ed146e36797c5e7f" id="r_a805d351924f56d06ed146e36797c5e7f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a805d351924f56d06ed146e36797c5e7f">set_encoding_type</a> (<a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9">EncodingType</a> et)</td></tr>
<tr class="memdesc:a805d351924f56d06ed146e36797c5e7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls how the <a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#ab49117d475fe9d8b834806539af31e00" title="This is the lowest level architecture-independent assembly function and is implemented in the archite...">assembleOne()</a> method determines which encoding to return.  <br /></td></tr>
<tr class="separator:a805d351924f56d06ed146e36797c5e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff1a4b6f4032bbf4ab41ab2481f4759e" id="r_aff1a4b6f4032bbf4ab41ab2481f4759e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9">EncodingType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#aff1a4b6f4032bbf4ab41ab2481f4759e">get_encoding_type</a> () const</td></tr>
<tr class="memdesc:aff1a4b6f4032bbf4ab41ab2481f4759e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the encoding type employed by this assembler.  <br /></td></tr>
<tr class="separator:aff1a4b6f4032bbf4ab41ab2481f4759e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0245ab410d021384b44e736b0e5a91d" id="r_af0245ab410d021384b44e736b0e5a91d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#af0245ab410d021384b44e736b0e5a91d">set_debug</a> (FILE *f)</td></tr>
<tr class="memdesc:af0245ab410d021384b44e736b0e5a91d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends assembler diagnostics to the specified output stream.  <br /></td></tr>
<tr class="separator:af0245ab410d021384b44e736b0e5a91d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eebe21be65c6d5bded7ee5453bdedb7" id="r_a6eebe21be65c6d5bded7ee5453bdedb7"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a6eebe21be65c6d5bded7ee5453bdedb7">get_debug</a> () const</td></tr>
<tr class="memdesc:a6eebe21be65c6d5bded7ee5453bdedb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the file currently used for debugging; null implies no debugging.  <br /></td></tr>
<tr class="separator:a6eebe21be65c6d5bded7ee5453bdedb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a68974c27617870fdf90fb4455f2928b4" id="r_a68974c27617870fdf90fb4455f2928b4"><td class="memItemLeft" align="right" valign="top"><a id="a68974c27617870fdf90fb4455f2928b4" name="a68974c27617870fdf90fb4455f2928b4"></a>
static <a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html">Assembler</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>create</b> (<a class="el" href="classSgAsmInterpretation.html">SgAsmInterpretation</a> *interp)</td></tr>
<tr class="memdesc:a68974c27617870fdf90fb4455f2928b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an assembler that is appropriate for assembling instructions in the specified interpretation. <br /></td></tr>
<tr class="separator:a68974c27617870fdf90fb4455f2928b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e40c53b616396e95efc96d559c8bd3" id="r_a96e40c53b616396e95efc96d559c8bd3"><td class="memItemLeft" align="right" valign="top"><a id="a96e40c53b616396e95efc96d559c8bd3" name="a96e40c53b616396e95efc96d559c8bd3"></a>
static <a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html">Assembler</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>create</b> (<a class="el" href="classSgAsmGenericHeader.html">SgAsmGenericHeader</a> *)</td></tr>
<tr class="memdesc:a96e40c53b616396e95efc96d559c8bd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an assembler that is appropriate for assembling instructions in the specified header. <br /></td></tr>
<tr class="separator:a96e40c53b616396e95efc96d559c8bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aae5cb7d3958ee152c9756d23dcb5c4fd" id="r_aae5cb7d3958ee152c9756d23dcb5c4fd"><td class="memItemLeft" align="right" valign="top">FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#aae5cb7d3958ee152c9756d23dcb5c4fd">p_debug</a></td></tr>
<tr class="memdesc:aae5cb7d3958ee152c9756d23dcb5c4fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to non-null to get debugging info.  <br /></td></tr>
<tr class="separator:aae5cb7d3958ee152c9756d23dcb5c4fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eaec8ddc04bf212adb99286d1b20710" id="r_a3eaec8ddc04bf212adb99286d1b20710"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9">EncodingType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a3eaec8ddc04bf212adb99286d1b20710">p_encoding_type</a></td></tr>
<tr class="memdesc:a3eaec8ddc04bf212adb99286d1b20710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Which encoding should be returned by assembleOne.  <br /></td></tr>
<tr class="separator:a3eaec8ddc04bf212adb99286d1b20710"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a64d85570ab8c92e27bb6e6dc9057eeb9" name="a64d85570ab8c92e27bb6e6dc9057eeb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64d85570ab8c92e27bb6e6dc9057eeb9">&#9670;&#160;</a></span>EncodingType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9">Rose::BinaryAnalysis::Assembler::EncodingType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assemblers can often assemble a single instruction various ways. </p>
<p>For instance, on x86 the immediate value -53 can be assembled into a single byte, or sign extended into 2, 4, or 8 bytes. These enumeration constants control how the <a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#ab49117d475fe9d8b834806539af31e00" title="This is the lowest level architecture-independent assembly function and is implemented in the archite...">assembleOne()</a> method determines which encoding to return. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a64d85570ab8c92e27bb6e6dc9057eeb9a8064607db6b2413b30bcc614e023dd78" name="a64d85570ab8c92e27bb6e6dc9057eeb9a8064607db6b2413b30bcc614e023dd78"></a>ET_SHORTEST&#160;</td><td class="fielddoc"><p>Returns the shortest possible encoding. </p>
<p>This is the default. </p>
</td></tr>
<tr><td class="fieldname"><a id="a64d85570ab8c92e27bb6e6dc9057eeb9ad8e21e2c7a59e412db1e324de4a6b667" name="a64d85570ab8c92e27bb6e6dc9057eeb9ad8e21e2c7a59e412db1e324de4a6b667"></a>ET_LONGEST&#160;</td><td class="fielddoc"><p>Returns the longest encoding. </p>
</td></tr>
<tr><td class="fieldname"><a id="a64d85570ab8c92e27bb6e6dc9057eeb9adb03164bf5bab974ee254319e94dba9c" name="a64d85570ab8c92e27bb6e6dc9057eeb9adb03164bf5bab974ee254319e94dba9c"></a>ET_MATCHES&#160;</td><td class="fielddoc"><p>Returns an encoding that matches the SgAsmInstruction::p_raw_bytes. </p>
<p>This is used mainly for testing that the assembler can produce the same encoding that was originally used by the disassembler when the instruction was created. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00080">80</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a51aa74f2a77266edb882206703f957f6" name="a51aa74f2a77266edb882206703f957f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51aa74f2a77266edb882206703f957f6">&#9670;&#160;</a></span>Assembler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Rose::BinaryAnalysis::Assembler::Assembler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00089">89</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>

</div>
</div>
<a id="afdd4244556516a031506400293bb9ce3" name="afdd4244556516a031506400293bb9ce3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd4244556516a031506400293bb9ce3">&#9670;&#160;</a></span>~Assembler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Rose::BinaryAnalysis::Assembler::~Assembler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00093">93</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab49117d475fe9d8b834806539af31e00" name="ab49117d475fe9d8b834806539af31e00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab49117d475fe9d8b834806539af31e00">&#9670;&#160;</a></span>assembleOne()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual SgUnsignedCharList Rose::BinaryAnalysis::Assembler::assembleOne </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSgAsmInstruction.html">SgAsmInstruction</a> *&#160;</td>
          <td class="paramname"><em>insn</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This is the lowest level architecture-independent assembly function and is implemented in the architecture-specific subclasses (there may be other architecture-dependent assembly methods also). </p>
<p>It assembles one instruction and returns the encoding, throwing an exception if anything goes wrong. </p>

<p>Implemented in <a class="el" href="classRose_1_1BinaryAnalysis_1_1AssemblerX86.html#a22940e93e91309b0fab5e6cf969bc94a">Rose::BinaryAnalysis::AssemblerX86</a>.</p>

</div>
</div>
<a id="a8d5a8afa2676753c71f6957fbe86eccf" name="a8d5a8afa2676753c71f6957fbe86eccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d5a8afa2676753c71f6957fbe86eccf">&#9670;&#160;</a></span>assembleBlock() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SgUnsignedCharList Rose::BinaryAnalysis::Assembler::assembleBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSgAsmBlock.html">SgAsmBlock</a> *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assembles a single basic block of instructions, packing them together and adjusting their virtual addresses. </p>
<p>The virtual address of the first instruction of the block determines the starting address. An exception is thrown if any of the instructions cannot be assembled. </p>

</div>
</div>
<a id="a25e6c8e5ec3a2bba922c44bd68531bf4" name="a25e6c8e5ec3a2bba922c44bd68531bf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25e6c8e5ec3a2bba922c44bd68531bf4">&#9670;&#160;</a></span>assembleBlock() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SgUnsignedCharList Rose::BinaryAnalysis::Assembler::assembleBlock </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classSgAsmInstruction.html">SgAsmInstruction</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>insns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rose_addr_t&#160;</td>
          <td class="paramname"><em>starting_rva</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assembles a single basic block of instructions like the version that takes an <a class="el" href="classSgAsmBlock.html" title="Instruction basic block.">SgAsmBlock</a> pointer. </p>
<p>In this case, the instructions are stored in a vector instead. The will be treated like a single basic block: no control flow adjustments will be made. An exception is thrown if any of the instructions cannot be disassembled. </p>

</div>
</div>
<a id="ad2bcddf501c2b4655ba077fc58475f0e" name="ad2bcddf501c2b4655ba077fc58475f0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2bcddf501c2b4655ba077fc58475f0e">&#9670;&#160;</a></span>assembleProgram()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual SgUnsignedCharList Rose::BinaryAnalysis::Assembler::assembleProgram </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assembles a program from an assembly listing. </p>
<p>This method may call an external assembler to do its work. </p>

<p>Implemented in <a class="el" href="classRose_1_1BinaryAnalysis_1_1AssemblerX86.html#af89e2f0ae45e21671b75fc3371b63c52">Rose::BinaryAnalysis::AssemblerX86</a>.</p>

</div>
</div>
<a id="a805d351924f56d06ed146e36797c5e7f" name="a805d351924f56d06ed146e36797c5e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a805d351924f56d06ed146e36797c5e7f">&#9670;&#160;</a></span>set_encoding_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Rose::BinaryAnalysis::Assembler::set_encoding_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9">EncodingType</a>&#160;</td>
          <td class="paramname"><em>et</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Controls how the <a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#ab49117d475fe9d8b834806539af31e00" title="This is the lowest level architecture-independent assembly function and is implemented in the archite...">assembleOne()</a> method determines which encoding to return. </p>

<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00128">128</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>

<p class="reference">References <a class="el" href="Assembler_8h_source.html#l00152">p_encoding_type</a>.</p>

</div>
</div>
<a id="aff1a4b6f4032bbf4ab41ab2481f4759e" name="aff1a4b6f4032bbf4ab41ab2481f4759e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff1a4b6f4032bbf4ab41ab2481f4759e">&#9670;&#160;</a></span>get_encoding_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9">EncodingType</a> Rose::BinaryAnalysis::Assembler::get_encoding_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the encoding type employed by this assembler. </p>
<p>See <a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a805d351924f56d06ed146e36797c5e7f" title="Controls how the assembleOne() method determines which encoding to return.">set_encoding_type()</a>. </p>

<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00133">133</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>

<p class="reference">References <a class="el" href="Assembler_8h_source.html#l00152">p_encoding_type</a>.</p>

</div>
</div>
<a id="af0245ab410d021384b44e736b0e5a91d" name="af0245ab410d021384b44e736b0e5a91d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0245ab410d021384b44e736b0e5a91d">&#9670;&#160;</a></span>set_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Rose::BinaryAnalysis::Assembler::set_debug </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends assembler diagnostics to the specified output stream. </p>
<p>Null (the default) turns off debugging. </p>

<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00138">138</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>

<p class="reference">References <a class="el" href="Assembler_8h_source.html#l00151">p_debug</a>.</p>

</div>
</div>
<a id="a6eebe21be65c6d5bded7ee5453bdedb7" name="a6eebe21be65c6d5bded7ee5453bdedb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eebe21be65c6d5bded7ee5453bdedb7">&#9670;&#160;</a></span>get_debug()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FILE * Rose::BinaryAnalysis::Assembler::get_debug </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the file currently used for debugging; null implies no debugging. </p>

<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00143">143</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>

<p class="reference">References <a class="el" href="Assembler_8h_source.html#l00151">p_debug</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aae5cb7d3958ee152c9756d23dcb5c4fd" name="aae5cb7d3958ee152c9756d23dcb5c4fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae5cb7d3958ee152c9756d23dcb5c4fd">&#9670;&#160;</a></span>p_debug</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FILE* Rose::BinaryAnalysis::Assembler::p_debug</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set to non-null to get debugging info. </p>

<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00151">151</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Assembler_8h_source.html#l00143">get_debug()</a>, and <a class="el" href="Assembler_8h_source.html#l00138">set_debug()</a>.</p>

</div>
</div>
<a id="a3eaec8ddc04bf212adb99286d1b20710" name="a3eaec8ddc04bf212adb99286d1b20710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eaec8ddc04bf212adb99286d1b20710">&#9670;&#160;</a></span>p_encoding_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classRose_1_1BinaryAnalysis_1_1Assembler.html#a64d85570ab8c92e27bb6e6dc9057eeb9">EncodingType</a> Rose::BinaryAnalysis::Assembler::p_encoding_type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Which encoding should be returned by assembleOne. </p>

<p class="definition">Definition at line <a class="el" href="Assembler_8h_source.html#l00152">152</a> of file <a class="el" href="Assembler_8h_source.html">Assembler.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="Assembler_8h_source.html#l00133">get_encoding_type()</a>, and <a class="el" href="Assembler_8h_source.html#l00128">set_encoding_type()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="Assembler_8h_source.html">Assembler.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 2 2024 00:09:08 for ROSE by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
