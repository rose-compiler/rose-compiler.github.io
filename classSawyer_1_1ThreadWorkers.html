<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ROSE: Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="ROSE"/>
<link href="roseDoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ROSE<span id="projectnumber">&#160;0.11.145.141</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,true,'search.html','Search');
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceSawyer.html">Sawyer</a></li><li class="navelem"><a class="el" href="classSawyer_1_1ThreadWorkers.html">ThreadWorkers</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classSawyer_1_1ThreadWorkers-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class DependencyGraph, class Functor&gt;<br />
class Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;</div><p>Work list with dependencies. </p>
<p>This class takes a graph of tasks. The vertices are the tasks that need to be worked on, and an edge from vertex <em>a</em> to vertex <em>b</em> means work on <em>a</em> depends on <em>b</em> having been completed. Vertices that participate in a cycle cannot be worked on since there is no way to resolve their dependencies; in this case, as much work as possible is performed.</p>
<p>See also, the <a class="el" href="namespaceSawyer.html#a295cdbe5f0e218d50cbdae84b156809d">workInParallel</a> function which is less typing since template parameters are inferred. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00032">32</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>
</div>
<p><code>#include &lt;<a class="el" href="ThreadWorkers_8h_source.html">Sawyer/ThreadWorkers.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a95d3fc2ea00d408bb0eab2d9d73a357c" id="r_a95d3fc2ea00d408bb0eab2d9d73a357c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#a95d3fc2ea00d408bb0eab2d9d73a357c">ThreadWorkers</a> ()</td></tr>
<tr class="memdesc:a95d3fc2ea00d408bb0eab2d9d73a357c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <br /></td></tr>
<tr class="separator:a95d3fc2ea00d408bb0eab2d9d73a357c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763a0cb3798458238162a21a99db6512" id="r_a763a0cb3798458238162a21a99db6512"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#a763a0cb3798458238162a21a99db6512">ThreadWorkers</a> (const DependencyGraph &amp;dependencies, size_t <a class="el" href="classSawyer_1_1ThreadWorkers.html#a519006ea4d9bb9fbdc846a9d2dc7ed48">nWorkers</a>, Functor functor)</td></tr>
<tr class="memdesc:a763a0cb3798458238162a21a99db6512"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor that synchronously runs the work.  <br /></td></tr>
<tr class="separator:a763a0cb3798458238162a21a99db6512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad51f6a6422b1de36ca1b642ae961453e" id="r_ad51f6a6422b1de36ca1b642ae961453e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#ad51f6a6422b1de36ca1b642ae961453e">~ThreadWorkers</a> ()</td></tr>
<tr class="memdesc:ad51f6a6422b1de36ca1b642ae961453e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <br /></td></tr>
<tr class="separator:ad51f6a6422b1de36ca1b642ae961453e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af94e460493129094b387e9ddbffd11a7" id="r_af94e460493129094b387e9ddbffd11a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#af94e460493129094b387e9ddbffd11a7">start</a> (const DependencyGraph &amp;dependencies, size_t <a class="el" href="classSawyer_1_1ThreadWorkers.html#a519006ea4d9bb9fbdc846a9d2dc7ed48">nWorkers</a>, Functor functor)</td></tr>
<tr class="memdesc:af94e460493129094b387e9ddbffd11a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start workers and return.  <br /></td></tr>
<tr class="separator:af94e460493129094b387e9ddbffd11a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeae5dd279a01bce7ea5adae438b59d50" id="r_aeae5dd279a01bce7ea5adae438b59d50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#aeae5dd279a01bce7ea5adae438b59d50">wait</a> ()</td></tr>
<tr class="memdesc:aeae5dd279a01bce7ea5adae438b59d50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for work to complete.  <br /></td></tr>
<tr class="separator:aeae5dd279a01bce7ea5adae438b59d50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28bcb3888dc1b7027f82448b45d11eb3" id="r_a28bcb3888dc1b7027f82448b45d11eb3"><td class="memTemplParams" colspan="2">template&lt;class Rep , class Period &gt; </td></tr>
<tr class="memitem:a28bcb3888dc1b7027f82448b45d11eb3"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#a28bcb3888dc1b7027f82448b45d11eb3">tryWaitFor</a> (const boost::chrono::duration&lt; Rep, Period &gt; &amp;relTime)</td></tr>
<tr class="memdesc:a28bcb3888dc1b7027f82448b45d11eb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for work to complete.  <br /></td></tr>
<tr class="separator:a28bcb3888dc1b7027f82448b45d11eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35920c84ba82dee177bdf951f785afde" id="r_a35920c84ba82dee177bdf951f785afde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#a35920c84ba82dee177bdf951f785afde">run</a> (const DependencyGraph &amp;dependencies, size_t <a class="el" href="classSawyer_1_1ThreadWorkers.html#a519006ea4d9bb9fbdc846a9d2dc7ed48">nWorkers</a>, Functor functor)</td></tr>
<tr class="memdesc:a35920c84ba82dee177bdf951f785afde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Synchronously processes tasks.  <br /></td></tr>
<tr class="separator:a35920c84ba82dee177bdf951f785afde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a699fdadc5c23af80b78e30ffe7843c6d" id="r_a699fdadc5c23af80b78e30ffe7843c6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#a699fdadc5c23af80b78e30ffe7843c6d">isFinished</a> ()</td></tr>
<tr class="memdesc:a699fdadc5c23af80b78e30ffe7843c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether all possible work is finished.  <br /></td></tr>
<tr class="separator:a699fdadc5c23af80b78e30ffe7843c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a697ede4cecdb109282f9b073a8347e98" id="r_a697ede4cecdb109282f9b073a8347e98"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#a697ede4cecdb109282f9b073a8347e98">nStarted</a> ()</td></tr>
<tr class="memdesc:a697ede4cecdb109282f9b073a8347e98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of tasks that have started.  <br /></td></tr>
<tr class="separator:a697ede4cecdb109282f9b073a8347e98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf1b56e46c1b5c7d8f56cc412ddf223" id="r_a3cf1b56e46c1b5c7d8f56cc412ddf223"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#a3cf1b56e46c1b5c7d8f56cc412ddf223">nFinished</a> ()</td></tr>
<tr class="memdesc:a3cf1b56e46c1b5c7d8f56cc412ddf223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of tasks that have completed.  <br /></td></tr>
<tr class="separator:a3cf1b56e46c1b5c7d8f56cc412ddf223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47328b37ca60a0c84ab93215025cff8f" id="r_a47328b37ca60a0c84ab93215025cff8f"><td class="memItemLeft" align="right" valign="top">std::set&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#a47328b37ca60a0c84ab93215025cff8f">runningTasks</a> ()</td></tr>
<tr class="memdesc:a47328b37ca60a0c84ab93215025cff8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tasks currently running.  <br /></td></tr>
<tr class="separator:a47328b37ca60a0c84ab93215025cff8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519006ea4d9bb9fbdc846a9d2dc7ed48" id="r_a519006ea4d9bb9fbdc846a9d2dc7ed48"><td class="memItemLeft" align="right" valign="top">std::pair&lt; size_t, size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSawyer_1_1ThreadWorkers.html#a519006ea4d9bb9fbdc846a9d2dc7ed48">nWorkers</a> ()</td></tr>
<tr class="memdesc:a519006ea4d9bb9fbdc846a9d2dc7ed48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of worker threads.  <br /></td></tr>
<tr class="separator:a519006ea4d9bb9fbdc846a9d2dc7ed48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a95d3fc2ea00d408bb0eab2d9d73a357c" name="a95d3fc2ea00d408bb0eab2d9d73a357c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d3fc2ea00d408bb0eab2d9d73a357c">&#9670;&#160;</a></span>ThreadWorkers() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::ThreadWorkers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>This constructor initializes the object but does not start any worker threads. Each object can perform work a single time, which is done by calling <a class="el" href="classSawyer_1_1ThreadWorkers.html#a35920c84ba82dee177bdf951f785afde">run</a> (synchronous) or <a class="el" href="classSawyer_1_1ThreadWorkers.html#af94e460493129094b387e9ddbffd11a7">start</a> and <a class="el" href="classSawyer_1_1ThreadWorkers.html#aeae5dd279a01bce7ea5adae438b59d50">wait</a> (asynchronous). </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00052">52</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

</div>
</div>
<a id="a763a0cb3798458238162a21a99db6512" name="a763a0cb3798458238162a21a99db6512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763a0cb3798458238162a21a99db6512">&#9670;&#160;</a></span>ThreadWorkers() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::ThreadWorkers </td>
          <td>(</td>
          <td class="paramtype">const DependencyGraph &amp;&#160;</td>
          <td class="paramname"><em>dependencies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nWorkers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Functor&#160;</td>
          <td class="paramname"><em>functor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor that synchronously runs the work. </p>
<p>This constructor creates up to the specified number of worker threads to run the work described in the <code>dependencies</code> (at least one thread, but not more than the number of vertices in the graph). If <code>nWorkers</code> is zero then the system's hadware concurrency is used. If the dependency graph contains a cycle then as much work as possible is performed and then a <a class="el" href="classSawyer_1_1Exception_1_1ContainsCycle.html">ContainsCycle</a> exception is thrown.</p>
<p>The dependency graph is copied into this class so that the class can modify it as tasks are completed. The <code>functor</code> can be a class with <code>operator()</code>, a function pointer, or a lambda expression. If a class is used, it must be copyable and each worker thread will be given its own copy. The functor is invoked with two arguments: the ID number of the task being processed, and a reference to a copy of the task (vertex value) in the dependency graph. The ID number is the vertex ID number in the <code>dependencies</code> graph.</p>
<p>The constructor does not return until all possible non-cyclic work has been completed. This object can only perform work a single time. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00071">71</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

<p class="reference">References <a class="el" href="ThreadWorkers_8h_source.html#l00211">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::nWorkers()</a>, and <a class="el" href="ThreadWorkers_8h_source.html#l00168">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::run()</a>.</p>

</div>
</div>
<a id="ad51f6a6422b1de36ca1b642ae961453e" name="ad51f6a6422b1de36ca1b642ae961453e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad51f6a6422b1de36ca1b642ae961453e">&#9670;&#160;</a></span>~ThreadWorkers()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::~<a class="el" href="classSawyer_1_1ThreadWorkers.html">ThreadWorkers</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>The destructor waits for all possible non-cyclic work to complete before returning. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00085">85</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

<p class="reference">References <a class="el" href="ThreadWorkers_8h_source.html#l00122">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::wait()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af94e460493129094b387e9ddbffd11a7" name="af94e460493129094b387e9ddbffd11a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af94e460493129094b387e9ddbffd11a7">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::start </td>
          <td>(</td>
          <td class="paramtype">const DependencyGraph &amp;&#160;</td>
          <td class="paramname"><em>dependencies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nWorkers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Functor&#160;</td>
          <td class="paramname"><em>functor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start workers and return. </p>
<p>This method saves a copy of the dependencies, initializes a work list, and starts worker threads. The vertices of the dependency graph are the tasks to be performed by the workers and the edges represent dependencies between the tasks. An edge from vertex <em>a</em> to vertex <em>b</em> means that task <em>a</em> cannot start until work on task <em>b</em> has finished.</p>
<p>The tasks in <code>dependencies</code> are processed by up to <code>nWorkers</code> threads created by this method and destroyed when work is complete. This method creates at least one thread (if there's any work), but never more threads than the total amount of work. If <code>nWorkers</code> is zero then the system's hardware concurrency is used. It returns as soon as those workers are created.</p>
<p>Each object can perform work only a single time. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00103">103</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

<p class="reference">References <a class="el" href="ThreadWorkers_8h_source.html#l00211">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::nWorkers()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ThreadWorkers_8h_source.html#l00168">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::run()</a>, and <a class="el" href="ThreadWorkers_8h_source.html#l00323">Sawyer::workInParallel()</a>.</p>

</div>
</div>
<a id="aeae5dd279a01bce7ea5adae438b59d50" name="aeae5dd279a01bce7ea5adae438b59d50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae5dd279a01bce7ea5adae438b59d50">&#9670;&#160;</a></span>wait()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::wait </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for work to complete. </p>
<p>This call blocks until all possible non-cyclic work is completed. If no work has started yet then it returns immediately. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00122">122</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ThreadWorkers_8h_source.html#l00085">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::~ThreadWorkers()</a>, and <a class="el" href="ThreadWorkers_8h_source.html#l00168">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::run()</a>.</p>

</div>
</div>
<a id="a28bcb3888dc1b7027f82448b45d11eb3" name="a28bcb3888dc1b7027f82448b45d11eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28bcb3888dc1b7027f82448b45d11eb3">&#9670;&#160;</a></span>tryWaitFor()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<div class="memtemplate">
template&lt;class Rep , class Period &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::tryWaitFor </td>
          <td>(</td>
          <td class="paramtype">const boost::chrono::duration&lt; Rep, Period &gt; &amp;&#160;</td>
          <td class="paramname"><em>relTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for work to complete. </p>
<p>Waits for up to the specified amount of time for work to complete. Returns true if no work has been started, or all work has completed within the time period. Returns false if a timeout occurred while waiting for work to complete. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00143">143</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ThreadWorkers_8h_source.html#l00323">Sawyer::workInParallel()</a>.</p>

</div>
</div>
<a id="a35920c84ba82dee177bdf951f785afde" name="a35920c84ba82dee177bdf951f785afde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35920c84ba82dee177bdf951f785afde">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::run </td>
          <td>(</td>
          <td class="paramtype">const DependencyGraph &amp;&#160;</td>
          <td class="paramname"><em>dependencies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nWorkers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Functor&#160;</td>
          <td class="paramname"><em>functor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Synchronously processes tasks. </p>
<p>This is simply a wrapper around <a class="el" href="classSawyer_1_1ThreadWorkers.html#af94e460493129094b387e9ddbffd11a7">start</a> and <a class="el" href="classSawyer_1_1ThreadWorkers.html#aeae5dd279a01bce7ea5adae438b59d50">wait</a>. It performs work synchronously, returning only after all possible work has completed. If the dependency graph contained cycles then a <a class="el" href="classSawyer_1_1Exception_1_1ContainsCycle.html">ContainsCycle</a> exception is thrown after all possible non-cyclic work is finished. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00168">168</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

<p class="reference">References <a class="el" href="ThreadWorkers_8h_source.html#l00211">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::nWorkers()</a>, <a class="el" href="ThreadWorkers_8h_source.html#l00103">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::start()</a>, and <a class="el" href="ThreadWorkers_8h_source.html#l00122">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::wait()</a>.</p>

<p class="reference">Referenced by <a class="el" href="ThreadWorkers_8h_source.html#l00071">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::ThreadWorkers()</a>.</p>

</div>
</div>
<a id="a699fdadc5c23af80b78e30ffe7843c6d" name="a699fdadc5c23af80b78e30ffe7843c6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a699fdadc5c23af80b78e30ffe7843c6d">&#9670;&#160;</a></span>isFinished()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::isFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test whether all possible work is finished. </p>
<p>Returns false if work is ongoing, true if all possible non-cyclic work is finished or no work was ever started. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00176">176</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

</div>
</div>
<a id="a697ede4cecdb109282f9b073a8347e98" name="a697ede4cecdb109282f9b073a8347e98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a697ede4cecdb109282f9b073a8347e98">&#9670;&#160;</a></span>nStarted()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::nStarted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of tasks that have started. </p>
<p>This is the number of tasks that have been started, some of which may have completed already. Although this function is thread-safe, the returned data might be out of date by time the caller accesses it. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00185">185</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

</div>
</div>
<a id="a3cf1b56e46c1b5c7d8f56cc412ddf223" name="a3cf1b56e46c1b5c7d8f56cc412ddf223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cf1b56e46c1b5c7d8f56cc412ddf223">&#9670;&#160;</a></span>nFinished()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t <a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::nFinished </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of tasks that have completed. </p>
<p>Although this function is thread-safe, the returned data might be out of date by time the caller accesses it. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00193">193</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ThreadWorkers_8h_source.html#l00323">Sawyer::workInParallel()</a>.</p>

</div>
</div>
<a id="a47328b37ca60a0c84ab93215025cff8f" name="a47328b37ca60a0c84ab93215025cff8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47328b37ca60a0c84ab93215025cff8f">&#9670;&#160;</a></span>runningTasks()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt; size_t &gt; <a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::runningTasks </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tasks currently running. </p>
<p>Returns the set of tasks (dependency graph vertex IDs) that are currently running. Although this function is thread-safe, the returned data might be out of date by time the caller accesses it. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00202">202</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ThreadWorkers_8h_source.html#l00323">Sawyer::workInParallel()</a>.</p>

</div>
</div>
<a id="a519006ea4d9bb9fbdc846a9d2dc7ed48" name="a519006ea4d9bb9fbdc846a9d2dc7ed48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519006ea4d9bb9fbdc846a9d2dc7ed48">&#9670;&#160;</a></span>nWorkers()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DependencyGraph , class Functor &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; size_t, size_t &gt; <a class="el" href="classSawyer_1_1ThreadWorkers.html">Sawyer::ThreadWorkers</a>&lt; DependencyGraph, Functor &gt;::nWorkers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of worker threads. </p>
<p>Returns a pair of numbers. The first is the total number of worker threads that are allocated, and the second is the number of threads that are busy working. The second number will never be larger than the first. </p>

<p class="definition">Definition at line <a class="el" href="ThreadWorkers_8h_source.html#l00211">211</a> of file <a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="ThreadWorkers_8h_source.html#l00071">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::ThreadWorkers()</a>, <a class="el" href="ThreadWorkers_8h_source.html#l00168">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::run()</a>, and <a class="el" href="ThreadWorkers_8h_source.html#l00103">Sawyer::ThreadWorkers&lt; DependencyGraph, Functor &gt;::start()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="ThreadWorkers_8h_source.html">ThreadWorkers.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 2 2024 00:09:36 for ROSE by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
